
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <link rel="canonical" href="https://blog.csdn.net/Sunmeok/article/details/81477585"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="referrer" content="always">
    <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
    <meta name="csdn-baidu-search"  content='{"autorun":true,"install":true,"keyword":"IDEA设置tomcat的server.xml文件 - Sunmeok的博客"}'>


    <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
</head>
<!-- nodata 第三栏接口无数据时样式不变 -->
<body class="nodata " >


<div class="container clearfix" id="mainBox">
    <div class="recommend-right">
        <ul class="recommend-fixed-box">

        </ul>
    </div>
    <main>
        <div class="blog-content-box">
            <div class="article-header-box">
                <div class="article-header">
                    <div class="article-title-box">
                        <span class="article-type type-1 float-left">原</span>				<h1 class="title-article">IDEA设置tomcat的server.xml文件</h1>
                    </div>
                    <div class="article-info-box">
                        <div class="article-bar-top">
                            <span class="time">2018年08月07日 11:17:29</span>
                            <a class="follow-nickName" href="https://me.csdn.net/Sunmeok" target="_blank">城南花会开</a>
                            <span class="read-count">阅读数：3127</span>
                        </div>
                        <div class="operating">
                        </div>
                    </div>
                </div>
            </div>
            <article class="baidu_pl">
                <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog"  data-mod=popu_307  data-dsm = "post" >
                    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f1a9c33fcd.css" />
                    <div class="htmledit_views" id="content_views">
                        <p>今天写项目遇到这么个问题</p>

                        <p>我想从前端读取路径的时候，必须输入相对路径+根路径，但是我数据库中存的相对路径</p>

                        <p>接下来讲解如何通过相对路径获得照片</p>

                        <p>首先我们需要在tomcat的server.xml文件中更改属性，eslipse可以直接在编译器里更改，而idea需要手动在tomcat中更改</p>

                        <p>接下来讲解如何配置</p>

                        <p>假设我的图片路径如下：</p>

                        <p><img alt="" class="has" height="244" src="https://img-blog.csdn.net/20180807110532825?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="739" /></p>

                        <p>这是数据库的路径 ：</p>

                        <table><tbody><tr><td>2</td>
                            <td>/upload/item/shop/9/2/details/2018080623140694576.png</td>
                        </tr></tbody></table><p><img alt="" class="has" height="16" src="https://img-blog.csdn.net/2018080711075866?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="455" /></p>

                        <p> 我们在前台读取路径时必须通过全限定名读取，</p>

                        <p>解决办法：</p>

                        <p>我们在tomcat设置当读取到upload时，就把它转为D:/store/image/upload/这样就能通过访问相对路径读取到绝对路径</p>

                        <p>设置方法：</p>

                        <p>首先打开tomcat文件夹下的</p>

                        <p><img alt="" class="has" height="388" src="https://img-blog.csdn.net/2018080711093160?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="1200" /></p>

                        <p> 加入这样的语句</p>

                        <p>&lt;Context path="/upload" docBase="D:/store/image/upload"/&gt;</p>

                        <p><img alt="" class="has" height="195" src="https://img-blog.csdn.net/20180807111146283?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="1200" /></p>

                        <p>这样当我们读取到这个/upload时就会转为 D:/store/image/upload，之后加上后面的路径凑成完成绝对路径，进行访问</p>

                        <p>然后设置idea：</p>

                        <p><img alt="" class="has" height="850" src="https://img-blog.csdn.net/20180807111347170?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="1200" /></p>

                        <p>打钩即可</p>

                        <p> </p>

                        <p><strong>第二种：</strong></p>

                        <p>直接用idea设置虚拟路径。</p>

                        <p><img alt="" class="has" height="883" src="https://img-blog.csdn.net/2018080711144036?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="1200" /></p>

                        <p>取消这个勾选</p>

                        <p>设置虚拟路径：</p>

                        <p><img alt="" class="has" height="335" src="https://img-blog.csdn.net/20180807111605481?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="1103" /> 选到替换的路径</p>

                        <p><img alt="" class="has" height="119" src="https://img-blog.csdn.net/20180807111648542?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="632" /></p>

                        <p>然后输入被替换的路径即可</p>

                        <p><img alt="" class="has" height="180" src="https://img-blog.csdn.net/20180807111701469?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N1bm1lb2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="944" /></p>            </div>
                </div>
            </article>
        </div>



</main>
</div>
</body>
</html>
